{% load i18n %}
<div class="filter">
  <h3>{{ title }}</h3>
  <form method="get" style="margin:0;">
    {# keep all existing params except our own #}
    {% for key, value in cl.params.items %}
      {% if key != spec.parameter_name %}
        <input type="hidden" name="{{ key }}" value="{{ value }}">
      {% endif %}
    {% endfor %}

    <div style="display:flex; gap:.5rem; align-items:center;">
      <input type="text"
             name="{{ spec.parameter_name }}"
             value="{{ spec.value|default_if_none:'' }}"
             placeholder="{{ spec.placeholder|default:'' }}"
             style="width: 9.5em;" />
      <button type="submit" class="button">{% trans "Apply" %}</button>
      <a href="?{% for k,v in cl.params.items %}{% if k != spec.parameter_name %}{{ k }}={{ v|urlencode }}&{% endif %}{% endfor %}"
         class="deletelink">{% trans "Reset" %}</a>
    </div>
  </form>
</div>
